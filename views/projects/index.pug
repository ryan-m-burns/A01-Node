extends ../layouts/main

block content
  h1= title
  if searchQuery
    a(href="/projects") &larr; Back to Projects

  div.search-container
    form(action="/projects/search", method="GET")
      input.search-bar(
        type="text", 
        placeholder="Search Projects", 
        value=searchQuery || "",
        id="searchInput",
        name="query"
      )
      button(type="submit") Search

  div#project-list
    each project in projects
      div.project-card(onclick=`window.location.href='/projects/${project.id}'`)
        h2= project.title
        p= project.summary
        ul
          each tech in project.tech
            li= tech
        div.image-container
          img(src=project.screenshot, alt=`${project.title} Screenshot`)
        button.view-details-btn(href=`/projects/${project.id}`, onclick="event.stopPropagation()") View Details
        button.edit-details-btn(href=`/projects/${project.id}/edit`, onclick="event.stopPropagation()") Edit
        button.delete-details-btn(href=`/projects/${project.id}/delete`, onclick="event.stopPropagation()") Delete